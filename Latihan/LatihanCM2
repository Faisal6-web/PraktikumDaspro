import java.util.Scanner;

public class LatihanCM2 {
public static void main(String[] args) {
    Scanner sc = new Scanner(System.in);

      // 1. INISIALISASI PENYIMPANAN DATA 
        String[][] dataMahasiswa = new String[100][6]; 
        
        // Variable untuk menghitung berapa data yang sudah tersimpan
        int jumlahData = 0; 

        // 2. LOOPING MENU
        //  Menu muncul sampai user memilih "Keluar".
        boolean isRunning = true;

        while (isRunning) { 
            
            // --- 3. TAMPILAN MENU ---
            System.out.println("\n=== Sistem Pendaftaran Ujian Skripsi ===");
            System.out.println("1. Tambah Data Pendaftar");
            System.out.println("2. Tampilkan Semua Pendaftar");
            System.out.println("3. Cari Pendaftar berdasarkan Dosen");
            System.out.println("4. Hitung Jumlah Pendaftar per Gelombang");
            System.out.println("5. Keluar");
            System.out.print("Pilih menu (1-5): ");
            
            // STATEMENT: Mengambil pilihan user
            int pilihan = sc.nextInt();
            sc.nextLine(); 

            // 4. ALUR SWITCH CASE
            switch (pilihan) {
                case 1:
                    // FITUR 1: TAMBAH DATA
                    System.out.println("\n--- Tambah Data Pendaftar ---");
                    
                    // Input Data Pendaftar
                    System.out.print("Nama Mahasiswa: ");
                    String nama = sc.nextLine();
                    System.out.print("NIM: ");
                    String nim = sc.nextLine();
                    System.out.print("Judul Skripsi: ");
                    String judul = sc.nextLine();
                    System.out.print("Dosen Pembimbing: ");
                    String dosen = sc.nextLine();

                    // Input & Validasi Gelombang (Harus 1, 2, atau 3)
                    int gelombang;
                    while (true) { // Loop kecil untuk memaksa input benar
                        System.out.print("Gelombang pendaftaran (1, 2, atau 3): ");
                        gelombang = sc.nextInt();
                        if (gelombang >= 1 && gelombang <= 3) {
                            break; // UPDATE: Jika benar, keluar dari loop validasi
                        }
                        System.out.println("Input salah! Gelombang harus 1-3.");
                    }

                    // Input & Validasi Log Bimbingan (Minimal 8)
                    int logBimbingan;
                    while (true) {
                        System.out.print("Total log bimbingan (minimal 8): ");
                        logBimbingan = sc.nextInt();
                        if (logBimbingan >= 8) {
                            break; // UPDATE: Jika benar, keluar dari loop validasi
                        }
                        System.out.println("Input salah! Log harus minimal 8.");
                    }

                    // --- PROSES MENYIMPAN KE ARRAY ---
                    dataMahasiswa[jumlahData][0] = nama;
                    dataMahasiswa[jumlahData][1] = nim;
                    dataMahasiswa[jumlahData][2] = judul;
                    dataMahasiswa[jumlahData][3] = dosen;
                    dataMahasiswa[jumlahData][4] = String.valueOf(gelombang); // Ubah int ke String
                    dataMahasiswa[jumlahData][5] = String.valueOf(logBimbingan);

        
                    jumlahData++; 
                    
                    System.out.println("Pendaftar berhasil disimpan. Total pendaftar saat ini: " + jumlahData);
                    break;

                case 2:
                    // FITUR 2: TAMPILKAN DATA 
                    System.out.println("\n--- Data Pendaftar ---");
                    System.out.println("No\tNama\t\tNIM\t\tDosen\t\tGelombang");
                    
                    // 
                    for(int i = 0; i < jumlahData; i++) {
                        System.out.print((i+1) + "\t");
                        System.out.print(dataMahasiswa[i][0] + "\t\t"); // Cetak Nama
                        System.out.print(dataMahasiswa[i][1] + "\t\t"); // Cetak NIM
                        System.out.print(dataMahasiswa[i][3] + "\t\t"); // Cetak Dosen
                        System.out.println(dataMahasiswa[i][4]);        // Cetak Gelombang
                    }
                    break;


                 case 3:
                // --- FITUR 3: CARI BERDASARKAN DOSEN ---
                System.out.println("\n--- Cari Data Pendaftar ---");
                System.out.print("Masukkan nama Dosen Pembimbing yang dicari: ");
                 String cariDosen = sc.nextLine();
            
                 // Status awal: dianggap belum ketemu
                 boolean ditemukan = false; 

                 System.out.println("\nHasil Pencarian untuk Dosen: " + cariDosen);
                 System.out.println("No\tNama\t\tNIM\t\tJudul Skripsi");

                // Loop menelusuri semua data yang sudah tersimpan
                for (int i = 0; i < jumlahData; i++) {
                // Ambil nama dosen dari Array (Kolom index 3)
                String dosenDiArray = dataMahasiswa[i][3];

                // LOGIKA PENCARIAN
                // equalsIgnoreCase: Membandingkan teks tanpa peduli huruf besar/kecil
                // Misal: "Farhan" dianggap sama dengan "farhan"
                if (dosenDiArray.equalsIgnoreCase(cariDosen)) {
                    System.out.print((i + 1) + "\t");
                    System.out.print(dataMahasiswa[i][0] + "\t\t");
                    System.out.print(dataMahasiswa[i][1] + "\t\t");
                    System.out.println(dataMahasiswa[i][2]);
                    
                    // Ubah status jadi ketemu
                    ditemukan = true; 
                     }
                 }

                 // Jika setelah loop selesai status masih false, berarti tidak ada data
                 if (ditemukan == false) {
                    System.out.println("--- Data tidak ditemukan ---");
                }
                break;


                case 4:
            // --- FITUR 4: HITUNG JUMLAH PER GELOMBANG ---
            System.out.println("\n--- Statistik Pendaftar per Gelombang ---");
    
            // Inisialisasi penghitung
        int hitungGel1 = 0;
        int hitungGel2 = 0;
        int hitungGel3 = 0;

        // Loop untuk memeriksa satu per satu data mahasiswa
        for (int i = 0; i < jumlahData; i++) {
        // Ambil data gelombang (Kolom index 4)
        String gelombangMhs = dataMahasiswa[i][4];

        // Cek isi datanya
        if (gelombangMhs.equals("1")) {
            hitungGel1++; // Tambah 1 ke counter gelombang 1
         } else if (gelombangMhs.equals("2")) {
             hitungGel2++; // Tambah 1 ke counter gelombang 2
         } else if (gelombangMhs.equals("3")) {
            hitungGel3++; // Tambah 1 ke counter gelombang 3
         }
     }

         // Tampilkan hasil akhir rekapitulasi
         System.out.println("Jumlah Pendaftar Gelombang 1: " + hitungGel1);
        System.out.println("Jumlah Pendaftar Gelombang 2: " + hitungGel2);
        System.out.println("Jumlah Pendaftar Gelombang 3: " + hitungGel3);
        System.out.println("Total Seluruh Pendaftar: " + jumlahData);
        break;



                case 5:
                    // UPDATE: Mengubah kondisi loop utama agar berhenti
                    System.out.println("Terima kasih!");
                    isRunning = false; 
                    break;

                default:
                    System.out.println("Menu tidak valid!");
            }
        }
    }
}
